<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" /> 

  <title>Where to live in the Netherlands based on temperature XKCD style</title>
  <meta property="og:title" content="Where to live in the Netherlands based on temperature XKCD style" />
  <meta name="twitter:title" content="Where to live in the Netherlands based on temperature XKCD style" />
  <meta name="description" content="After seeing a plot of best places to live in Spain and the USA based on the weather, I had to chime in and do the same thing for the Netherlands. The idea is simple, determine where you want to live based on your temperature preferences.
First the end result: How to read this plot?
In this xkcd comic we see that the topleft of the the graph represents &ldquo;if you hate cold and hate heat&rdquo;, if you go down from the topleft to the bottom left the winters get colder and ending in &ldquo;if you love cold and hate heat&rdquo;.">
  <meta property="og:description" content="After seeing a plot of best places to live in Spain and the USA based on the weather, I had to chime in and do the same thing for the Netherlands. The idea is simple, determine where you want to live based on your temperature preferences.
First the end result: How to read this plot?
In this xkcd comic we see that the topleft of the the graph represents &ldquo;if you hate cold and hate heat&rdquo;, if you go down from the topleft to the bottom left the winters get colder and ending in &ldquo;if you love cold and hate heat&rdquo;.">
  <meta name="twitter:description" content="After seeing a plot of best places to live in Spain and the USA based on the weather, I had to chime in and do the same thing for the Netherlands. The idea is simple, determine where you want to live …">
  <meta name="author" content="Roel M. Hogervorst"/>
  <link href='/cleancode/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/cleancode/img/avatar-icon.png" />
  <meta name="twitter:image" content="/cleancode/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@RMHoge" />
  <meta name="twitter:creator" content="@RMHoge" />
  <meta property="og:url" content="/cleancode/blog/2017/11/20/content/post/2017-11-20-xkcd-the-netherlands-weather/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Clean Code (and R-fun)" />

  <meta name="generator" content="Hugo 0.35" />
  <link rel="canonical" href="/cleancode/blog/2017/11/20/content/post/2017-11-20-xkcd-the-netherlands-weather/" />
  <link rel="alternate" href="/cleancode/index.xml" type="application/rss+xml" title="Clean Code (and R-fun)">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/cleancode/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="/cleancode/css/syntax.css" /><link rel="stylesheet" href="/cleancode/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/cleancode/">Clean Code (and R-fun)</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Clean Code (and R-fun)" href="/cleancode/">
            <img class="avatar-img" src="/cleancode/img/avatar-icon.png" alt="Clean Code (and R-fun)" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>Where to live in the Netherlands based on temperature XKCD style</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on November 20, 2017
  
  
  &nbsp;|&nbsp;
  <i class="fa fa-clock-o"></i> 5 minutes (1037 words)
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p>After seeing a plot of best places to live in Spain and the USA based on the weather, I had to
chime in and do the same thing for the Netherlands. The idea is simple, determine where you want to live based on your temperature preferences.</p>

<p>First the end result:
<img src="/img/xkcd_NL_US_ESP.png" alt="Netherlands, weatherplot XKCD style" /></p>

<p>How to read this plot?</p>

<p>In <a href="https://xkcd.com/1916/">this</a> xkcd comic we see that the topleft of the the graph represents &ldquo;if you hate cold and hate heat&rdquo;, if you go down from the topleft to the bottom left the winters get colder and ending in &ldquo;if you love cold and hate heat&rdquo;. Going to the right the heat (and humidity) go up ending in &ldquo;if you love cold and love heat&rdquo;. Going up to the top right: &ldquo;if you hate cold and love heat&rdquo;.</p>

<p>This post explains how to make the plot, to see  where I got the data and what procedures I took look at <a href="https://github.com/RMHogervorst/xkcd_weather_cities_nl">https://github.com/RMHogervorst/xkcd_weather_cities_nl</a>.</p>

<h3 id="inspiration">Inspiration</h3>

<p>According to this <a href="http://www.masalmon.eu/2017/11/16/wheretoliveus/">post by Maële Salmon</a> inspired by xkcd, we can determine our ideal city by looking at wintertemperature and humidex (combination of humidity and summer heat).</p>

<p>I&rsquo;ve seen major cities in the USA (post by Maelle) and where to live in Spain <a href="https://twitter.com/claudiaguirao/status/931615734521909248">by Claudia Guirao</a>. There is even one on France <a href="https://twitter.com/matamix/status/932283897018273792">in French, of course</a>.</p>

<p>So I had to make one for the Netherlands too. There is just a small detail,
The Netherlands is tiny, the United States is approximately 237 times larger then The Netherlands. From The Hague to the German border directly east is 164 km (101 miles) and from Leeuwarden to Maastricht in the south is 262 km (162 miles). Essentially my home country has a moderate sea climate with warm summers and relatively mild winters.</p>

<p>I expect there to be no real big differences between the cities. I use the average temperature over december, january and february for winter temperature and calculate the humidex using the <a href="https://cran.r-project.org/web/packages/comf/index.html">comf package</a>. This humidex is a combination of humidity and temperature.</p>

<ul>
<li>20 to 29: Little to no discomfort</li>
<li>30 to 39: Some discomfort</li>
<li>40 to 45: Great discomfort; avoid exertion</li>
<li>Above 45: Dangerous; heat stroke quite possible</li>
</ul>

<p>For cities I went the extremely lazy way and took all of the available weatherstations provided by the Dutch weather service (KNMI, &mdash; Royal Netherlands, Metereological Institute). There are 46 stations in the Netherlands. These are not always in the cities but sort of broadly describe the entire country.</p>

<h3 id="plot-like-xkcd">Plot like XKCD</h3>

<p>The XKCD package has wonderful plotting abilities and a cool font that you have to install. I copied and modified the code from the post of Mäelle, because it is really good!</p>

<p>If you want to see how I did the data cleaning go to the <a href="https://github.com/RMHogervorst/xkcd_weather_cities_nl">github page</a>.</p>

<p>First we plot all of the stations in the Netherlands <em>most of these places will probably not be familiar to non-Dutch people</em>.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span><span class="s">&#34;xkcd&#34;</span><span class="p">)</span>
<span class="kn">library</span><span class="p">(</span><span class="s">&#34;ggplot2&#34;</span><span class="p">)</span>
<span class="kn">library</span><span class="p">(</span><span class="s">&#34;extrafont&#34;</span><span class="p">)</span>
<span class="kn">library</span><span class="p">(</span><span class="s">&#34;ggrepel&#34;</span><span class="p">)</span>

xrange <span class="o">&lt;-</span> <span class="kp">range</span><span class="p">(</span>result<span class="o">$</span>humidex_avg<span class="p">)</span>
yrange <span class="o">&lt;-</span> <span class="kp">range</span><span class="p">(</span>result<span class="o">$</span>wintertemp<span class="p">)</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
ggplot<span class="p">(</span>result<span class="p">,</span>
       aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">))</span> <span class="o">+</span>
  geom_point<span class="p">()</span> <span class="o">+</span>
  geom_text_repel<span class="p">(</span>aes<span class="p">(</span>label <span class="o">=</span> NAME<span class="p">),</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> 
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">,</span> size <span class="o">=</span> <span class="m">3</span><span class="p">)</span><span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&#34;Where to live in The Netherlands \nbased on your temperature preferences&#34;</span><span class="p">,</span>
          subtitle <span class="o">=</span> <span class="s">&#34;Data from KNMI, 2016-2017&#34;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&#34;Summer heat and humidity via Humidex&#34;</span><span class="p">)</span><span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&#34;Winter temperature in Celsius degrees&#34;</span><span class="p">)</span> <span class="o">+</span>
  xkcdaxis<span class="p">(</span>xrange <span class="o">=</span> xrange<span class="p">,</span>
           yrange <span class="o">=</span> yrange<span class="p">)</span><span class="o">+</span>
  theme_xkcd<span class="p">()</span> <span class="o">+</span>
  theme<span class="p">(</span>text <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">13</span><span class="p">,</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">))</span></code></pre></div>
<p><img src="/img/temperatureranges-in-the-netherlands-1.png" alt="temperature ranges in the Netherlands alone" /></p>

<p>But what does that mean, in the grand scheme of things? As you might notice the range is very small. It would be interesting to add some US cities and perhaps some Spanisch cities to compare against. For fun I also added the Dutch Caribean islands.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">xrange2 <span class="o">&lt;-</span> <span class="kp">range</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">18</span><span class="p">,</span><span class="m">40</span><span class="p">))</span>  <span class="c1"># modified these by hand to increase the margins</span>
yrange2 <span class="o">&lt;-</span> <span class="kp">range</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">-5</span><span class="p">,</span><span class="m">40</span><span class="p">))</span>
USA <span class="o">&lt;-</span> tribble<span class="p">(</span>
      <span class="o">~</span>NAME<span class="p">,</span> <span class="o">~</span>humidex_avg<span class="p">,</span> <span class="o">~</span>wintertemp<span class="p">,</span>
      <span class="s">&#34;DETROIT, MI&#34;</span><span class="p">,</span> <span class="m">27</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span>
      <span class="s">&#34;NASHVILLE, TN&#34;</span><span class="p">,</span> <span class="m">33</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span>
      <span class="s">&#34;FORT MEYERS, FL&#34;</span><span class="p">,</span><span class="m">37</span><span class="p">,</span> <span class="m">20</span>
  <span class="p">)</span>
SPAIN <span class="o">&lt;-</span> tribble<span class="p">(</span>
      <span class="o">~</span>NAME<span class="p">,</span> <span class="o">~</span>humidex_avg<span class="p">,</span> <span class="o">~</span>wintertemp<span class="p">,</span>
      <span class="s">&#34;MADRID, SPAIN&#34;</span><span class="p">,</span> <span class="m">27</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span>
      <span class="s">&#34;TENERIFE, SPAIN&#34;</span><span class="p">,</span> <span class="m">24</span><span class="p">,</span> <span class="m">13</span><span class="p">,</span>
      <span class="s">&#34;BARCELONA, SPAIN&#34;</span><span class="p">,</span><span class="m">32</span><span class="p">,</span> <span class="m">10</span>
  <span class="p">)</span>
D_CARI <span class="o">&lt;-</span> tribble<span class="p">(</span>
      <span class="o">~</span>NAME<span class="p">,</span> <span class="o">~</span>humidex_avg<span class="p">,</span> <span class="o">~</span>wintertemp<span class="p">,</span>
      <span class="s">&#34;Bonaire, Caribbean Netherlands&#34;</span><span class="p">,</span> <span class="m">27</span><span class="p">,</span> calcHumx<span class="p">(</span><span class="m">29</span><span class="p">,</span><span class="m">76</span><span class="p">),</span>
      <span class="s">&#34;Sint Eustatius, Caribbean Netherlands&#34;</span><span class="p">,</span> <span class="m">28</span><span class="p">,</span> calcHumx<span class="p">(</span><span class="m">28</span><span class="p">,</span><span class="m">77</span><span class="p">),</span>   
      <span class="s">&#34;Saba, Caribbean Netherlands&#34;</span><span class="p">,</span><span class="m">30</span><span class="p">,</span> calcHumx<span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="m">76</span><span class="p">)</span>
  <span class="p">)</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
ggplot<span class="p">(</span>result<span class="p">,</span>
       aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">))</span> <span class="o">+</span>
  geom_point<span class="p">(</span>alpha <span class="o">=</span> <span class="m">.7</span><span class="p">)</span> <span class="o">+</span>
  geom_text_repel<span class="p">(</span>aes<span class="p">(</span>label <span class="o">=</span> NAME<span class="p">),</span>
                   family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> 
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">,</span> size <span class="o">=</span> <span class="m">2</span><span class="p">)</span><span class="o">+</span>
  geom_text_repel<span class="p">(</span>data <span class="o">=</span> USA<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">,</span> label <span class="o">=</span> NAME<span class="p">),</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> 
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">,</span> size <span class="o">=</span> <span class="m">2</span><span class="p">,</span> color <span class="o">=</span> <span class="s">&#34;blue&#34;</span><span class="p">)</span><span class="o">+</span>
    geom_point<span class="p">(</span>data <span class="o">=</span> USA<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">),</span> color <span class="o">=</span> <span class="s">&#34;blue&#34;</span><span class="p">)</span><span class="o">+</span>
    geom_text_repel<span class="p">(</span>data <span class="o">=</span> SPAIN<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">,</span> label <span class="o">=</span> NAME<span class="p">),</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> 
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">,</span> size <span class="o">=</span> <span class="m">2</span><span class="p">,</span> color <span class="o">=</span> <span class="s">&#34;red&#34;</span><span class="p">)</span><span class="o">+</span>
    geom_point<span class="p">(</span>data <span class="o">=</span> SPAIN<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">),</span>color <span class="o">=</span> <span class="s">&#34;red&#34;</span><span class="p">)</span><span class="o">+</span>
    geom_text_repel<span class="p">(</span>data <span class="o">=</span> D_CARI<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">,</span> label <span class="o">=</span> NAME<span class="p">),</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> 
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">,</span> size <span class="o">=</span> <span class="m">2</span><span class="p">,</span> color <span class="o">=</span> <span class="s">&#34;orange&#34;</span><span class="p">)</span><span class="o">+</span>
    geom_point<span class="p">(</span>data <span class="o">=</span> D_CARI<span class="p">,</span> aes<span class="p">(</span>humidex_avg<span class="p">,</span> wintertemp<span class="p">),</span> color <span class="o">=</span> <span class="s">&#34;orange&#34;</span><span class="p">)</span><span class="o">+</span>
    labs<span class="p">(</span>title <span class="o">=</span> <span class="s">&#34;Where to live in The Netherlands based on \nyour temperature preferences \nCompared with some places in Spain, Caribbean NL and USA&#34;</span><span class="p">,</span>
          subtitle <span class="o">=</span> <span class="s">&#34;Data from KNMI, 2016-2017, added Spain and US cities&#34;</span><span class="p">,</span>
         x <span class="o">=</span> <span class="s">&#34;Summer heat and humidity via Humidex&#34;</span><span class="p">,</span>
         y <span class="o">=</span> <span class="s">&#34;Winter temperature in Celsius degrees&#34;</span><span class="p">,</span>
         caption <span class="o">=</span> <span class="s">&#34;includes Caribbean Netherlands&#34;</span>
             <span class="p">)</span> <span class="o">+</span>
  xkcdaxis<span class="p">(</span>xrange <span class="o">=</span> xrange2<span class="p">,</span>
           yrange <span class="o">=</span> yrange2<span class="p">)</span><span class="o">+</span>
  theme_xkcd<span class="p">()</span> <span class="o">+</span>
  theme<span class="p">(</span>text <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">16</span><span class="p">,</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">))</span></code></pre></div>
<p><img src="/img/xkcd_NL_US_ESP.png" alt="Netherlands, weatherplot XKCD style" /></p>

<p>Finally we can compare the wintertemperature and summer humidex in The Netherlands by placing the points on a map using the coordinates of the measure stations.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">NL <span class="o">&lt;-</span> map_data<span class="p">(</span>map <span class="o">=</span> <span class="s">&#34;world&#34;</span><span class="p">,</span>region <span class="o">=</span> <span class="s">&#34;Netherlands&#34;</span><span class="p">)</span>
result <span class="o">%&gt;%</span> 
    rename<span class="p">(</span>LON <span class="o">=</span> <span class="sb">`LON(east)`</span><span class="p">,</span> LAT <span class="o">=</span> <span class="sb">`LAT(north)`</span><span class="p">)</span> <span class="o">%&gt;%</span> 
    ggplot<span class="p">(</span> aes<span class="p">(</span>LON<span class="p">,</span> LAT<span class="p">))</span><span class="o">+</span>
    geom_point<span class="p">(</span>aes<span class="p">(</span>color <span class="o">=</span> wintertemp<span class="p">))</span><span class="o">+</span>
    geom_text_repel<span class="p">(</span>aes<span class="p">(</span>label <span class="o">=</span> NAME<span class="p">),</span>
                   family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">3</span><span class="p">,</span>
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">)</span><span class="o">+</span>
    geom_polygon<span class="p">(</span>data <span class="o">=</span> NL<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>long<span class="p">,</span> y <span class="o">=</span> lat<span class="p">,</span> group <span class="o">=</span> group<span class="p">),</span> fill <span class="o">=</span> <span class="kc">NA</span><span class="p">,</span> color <span class="o">=</span> <span class="s">&#34;black&#34;</span><span class="p">)</span> <span class="o">+</span>
    coord_map<span class="p">()</span><span class="o">+</span>
    labs<span class="p">(</span>title <span class="o">=</span> <span class="s">&#34;Wintertemperature in NL&#34;</span><span class="p">,</span>
         subtitle <span class="o">=</span> <span class="s">&#34;data from KNMI (2016,2017&#34;</span><span class="p">,</span>
         x <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span> y <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span><span class="o">+</span>
    theme_xkcd<span class="p">()</span><span class="o">+</span>
    theme<span class="p">(</span>text <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">16</span><span class="p">,</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">))</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">result <span class="o">%&gt;%</span> 
    rename<span class="p">(</span>LON <span class="o">=</span> <span class="sb">`LON(east)`</span><span class="p">,</span> LAT <span class="o">=</span> <span class="sb">`LAT(north)`</span><span class="p">)</span> <span class="o">%&gt;%</span> 
    ggplot<span class="p">(</span> aes<span class="p">(</span>LON<span class="p">,</span> LAT<span class="p">))</span><span class="o">+</span>
    geom_point<span class="p">(</span>aes<span class="p">(</span>color <span class="o">=</span> humidex_avg<span class="p">))</span><span class="o">+</span>
    geom_text_repel<span class="p">(</span>aes<span class="p">(</span>label <span class="o">=</span> NAME<span class="p">),</span>
                   family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">,</span> size <span class="o">=</span> <span class="m">3</span><span class="p">,</span>
                   max.iter <span class="o">=</span> <span class="m">50000</span><span class="p">)</span><span class="o">+</span>
    geom_polygon<span class="p">(</span>data <span class="o">=</span> NL<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>long<span class="p">,</span> y <span class="o">=</span> lat<span class="p">,</span> group <span class="o">=</span> group<span class="p">),</span> fill <span class="o">=</span> <span class="kc">NA</span><span class="p">,</span> color <span class="o">=</span> <span class="s">&#34;black&#34;</span><span class="p">)</span> <span class="o">+</span>
    coord_map<span class="p">()</span><span class="o">+</span>
    labs<span class="p">(</span>title <span class="o">=</span> <span class="s">&#34;Humidex in NL&#34;</span><span class="p">,</span>
         subtitle <span class="o">=</span> <span class="s">&#34;data from KNMI (2016,2017&#34;</span><span class="p">,</span>
         x <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span> y <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span><span class="o">+</span>
    theme_xkcd<span class="p">()</span><span class="o">+</span>
    theme<span class="p">(</span>text <span class="o">=</span> element_text<span class="p">(</span>size <span class="o">=</span> <span class="m">12</span><span class="p">,</span> family <span class="o">=</span> <span class="s">&#34;xkcd&#34;</span><span class="p">))</span><span class="o">+</span>
    scale_color_continuous<span class="p">(</span>low <span class="o">=</span> <span class="s">&#34;white&#34;</span><span class="p">,</span> high <span class="o">=</span> <span class="s">&#34;red&#34;</span><span class="p">)</span></code></pre></div>
<p><img src="/img/humidex_NL.png" alt="Netherlands, humidex, gps" />
<img src="/img/wintertemp_NL.png" alt="Netherlands, wintertemp, gps" /></p>

<p>Now show us what your country looks like!</p>


        
          <div class="blog-tags">
            
              <a href="/cleancode//tags/xkcd/">XKCD</a>&nbsp;
            
              <a href="/cleancode//tags/weather/">weather</a>&nbsp;
            
              <a href="/cleancode//tags/humidex/">humidex</a>&nbsp;
            
              <a href="/cleancode//tags/dplyr/">dplyr</a>&nbsp;
            
              <a href="/cleancode//tags/ggplot2/">ggplot2</a>&nbsp;
            
              <a href="/cleancode//tags/readr/">readr</a>&nbsp;
            
              <a href="/cleancode//tags/netherlands/">Netherlands</a>&nbsp;
            
          </div>
        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="/cleancode/blog/2017/07/27/content/post/2017-07-27-use-r-2017-roundup/" data-toggle="tooltip" data-placement="top" title="UseR Brussels 2017 ">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="/cleancode/blog/2017/11/28/content/post/2017-11-28-building-the-oomsifier/" data-toggle="tooltip" data-placement="top" title="Building the oomsifyer">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:hogervorst.rm@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://keybase.io/rmhogervorst" title="Find me on keybase">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-key fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/RMHogervorst" title="find me on GitHub (main stuff)">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://gitlab.com/rmhogervorst" title="I have some stale stuff on GitLab">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://bitbucket.org/RMHogervorst" title="I probably have something on Bitbucket">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-bitbucket fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/RMHoge" title="Yes! I am active on Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/rmhogervorst" title="My LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/5573955/roel-hogervorst" title="There is some stuff on StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="/cleancode/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="rmhogervorst.nl">Roel M. Hogervorst</a>
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="/cleancode/">Clean Code (and R-fun)</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.35</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
<br> See anything wrong? Click to add them to <a href="https://github.com/RMHogervorst/cleancode/issues" >the issue tracker</a> <br>
            




  



<a href='https://github.com/RMHogervorst/cleancode/tree/master/content/post/2017-11-20-xkcd-the-netherlands-weather.md'>or edit this page on github.</a>



        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/cleancode/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="/cleancode/js/load-photoswipe.js"></script>






  </body>
</html>

