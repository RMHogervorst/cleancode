<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" /> 

  <title>From spss to R, part 4</title>
  <meta property="og:title" content="From spss to R, part 4" />
  <meta name="twitter:title" content="From spss to R, part 4" />
  <meta name="description" content="This is the second part of working with ggplot. We will combine the packages dplyr and ggplot to improve our workflow. When you make a visualisation you often experiment with different versions of your plot. Our workflow will be dynamic, in stead of saving every version of the plot you created, we will recreate the plot untill it looks the way you want it.
In the previous lesson we worked with some build in datasets.">
  <meta property="og:description" content="This is the second part of working with ggplot. We will combine the packages dplyr and ggplot to improve our workflow. When you make a visualisation you often experiment with different versions of your plot. Our workflow will be dynamic, in stead of saving every version of the plot you created, we will recreate the plot untill it looks the way you want it.
In the previous lesson we worked with some build in datasets.">
  <meta name="twitter:description" content="This is the second part of working with ggplot. We will combine the packages dplyr and ggplot to improve our workflow. When you make a visualisation you often experiment with different versions of â€¦">
  <meta name="author" content="Roel M. Hogervorst"/>
  <link href='https://rmhogervorst.nl/cleancode/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://rmhogervorst.nl/cleancode/img/avatar-icon.png" />
  <meta name="twitter:image" content="https://rmhogervorst.nl/cleancode/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@RMHoge" />
  <meta name="twitter:creator" content="@RMHoge" />
  <meta property="og:url" content="https://rmhogervorst.nl/cleancode/blog/2016/04/04/content/post/2016-04-04--from-spss-to-r-part4/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Clean Code (and R-fun)" />

  <meta name="generator" content="Hugo 0.35" />
  <link rel="canonical" href="https://rmhogervorst.nl/cleancode/blog/2016/04/04/content/post/2016-04-04--from-spss-to-r-part4/" />
  <link rel="alternate" href="https://rmhogervorst.nl/cleancode/index.xml" type="application/rss+xml" title="Clean Code (and R-fun)">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://rmhogervorst.nl/cleancode/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://rmhogervorst.nl/cleancode/css/syntax.css" /><link rel="stylesheet" href="https://rmhogervorst.nl/cleancode/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://rmhogervorst.nl/cleancode">Clean Code (and R-fun)</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Clean Code (and R-fun)" href="https://rmhogervorst.nl/cleancode">
            <img class="avatar-img" src="https://rmhogervorst.nl/cleancode/img/avatar-icon.png" alt="Clean Code (and R-fun)" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>From spss to R, part 4</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on April 4, 2016
  
  
  &nbsp;|&nbsp;
  <i class="fa fa-clock-o"></i> 15 minutes (3074 words)
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p>This is the second part of working with ggplot. We will combine the
packages dplyr and ggplot to improve our workflow.
When you make a visualisation you often experiment with different versions of your plot. Our workflow will be dynamic, in stead of saving every version of the plot you created, we will recreate the plot untill  it looks the way you want it.</p>

<p>In <a href="https://rmhogervorst.github.io/cleancode/blog/2016/03/02/from-spss-to-r-part3.html" title="a full link to the previous lesson">the previous lesson</a> we worked with some build in datasets. But there is often more fun in public real world datasets.</p>

<p>We will work with the Dutch government data about higher education more info at <https://www.duo.nl/open_onderwijsdata/databestanden/ho/ingeschreven/wo-ingeschr/ingeschrevenen-wo1.jsp "UPDATE 2017, NEW LOCATION, THANKS GOVERNMENT...">. To help you along I have already transformed the data into a more tidy format <sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup>. The data can be found at my github repository at this link: <a href="https://github.com/RMHogervorst/cleancodeexamples/blob/master/files">https://github.com/RMHogervorst/cleancodeexamples/blob/master/files</a>. UPDATE 2017-08-23, SPSS FORMAT HAS CHANGED IN HAVEN, SO NEW DATA (2016) WITH FILES BOTH IN SPSS AND CSV FORMAT.</p>

<p><em>Everything else is the same, but the data is newer (2016, you can still work with the 2015 data in csv format, that will never break)</em></p>

<h1 id="getting-started">Getting started</h1>

<p>You will need:</p>

<ul>
<li>Internet access</li>
<li>Rstudio</li>
<li>a recent version of R</li>
<li>the packages: dplyr, ggplot2, readr.</li>
</ul>

<p>You need to understand / apply</p>

<ul>
<li>chaining commands using the pipe (<code>%&gt;%</code>) operator</li>
<li>opening and closing of Rstudio, the assign (<code>&lt;-</code>)  operator</li>
<li>recently used the dplyr commands (did you do the <a href="https://rmhogervorst.github.io/cleancode/blog/2016/02/22/from-spss-to-r-part2.html">second</a> lesson? you&rsquo;re good then)</li>
</ul>

<h2 id="starting-loading-the-file-and-a-first-look">Starting loading the file and a first look</h2>

<p>Start a new project in Rstudio or open a project you created in a previous session <sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup>.
Copy the steps in your script or the console or follow the <a href="https://github.com/RMHogervorst/cleancodeexamples/blob/master/scripts/introduction-to-ggplot2-part2.R">script</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1">#location of files: &#34;https://github.com/RMHogervorst/cleancodeexamples/blob/master/files&#34;</span>

link<span class="o">&lt;-</span><span class="s">&#34;https://raw.githubusercontent.com/RMHogervorst/cleancodeexamples/master/files/duo2016_tidy.csv&#34;</span>
<span class="c1"># Libraries to use</span>
<span class="kn">library</span><span class="p">(</span>dplyr<span class="p">)</span> <span class="c1"># yes I use it almost daily</span>
<span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>readr<span class="p">)</span> <span class="c1"># for the use of read_csv </span>
<span class="c1"># (there is also a read.csv function in base r, but it has some undesirable properties)</span>
<span class="c1"># load the data</span>
duo2015_tidy<span class="o">&lt;-</span> read_csv<span class="p">(</span>link<span class="p">)</span>
<span class="c1"># This is the same file we used in: </span>
<span class="c1"># https://rmhogervorst.github.io/cleancode/blog/2016/02/24/creating-tidy-data.html</span>
<span class="c1"># look at the data with View(duo2015_tidy) or</span>
glimpse<span class="p">(</span>duo2015_tidy<span class="p">)</span>  <span class="c1"># often more meaningful</span></code></pre></div>
<p>The file contains the number of students per year per gender per program in Dutch Universities between 2011 and 2015.
Look around the dataset and get a sense of what it contains. Unfortunately for non-Dutch speakers, the set is entirely in Dutch&hellip;  But I will explain the variables for you so far as I know.</p>

<ul>
<li>PROVINCIE     province, which of the twelve <a href="https://en.wikipedia.org/wiki/Provinces_of_the_Netherlands">provinces</a></li>
<li>GEMEENTENUMMER    municipal number    No idea what basis this has</li>
<li>GEMEENTENAAM      municipal name  (some municipals have changed names)</li>
<li>SOORT INSTELLING  type of university regular or small</li>
<li>BRIN.NUMMER.ACTUEEL no idea some sort of govermental number per university</li>
<li>INSTELLINGSNAAM.ACTUEEL   University name at this moment (some have changed over time)</li>
<li>CROHO.ONDERDEEL       CROHO stands for Central Registry Programs Higher Education</li>
<li>CROHO.SUBONDERDEEL    ONDERDEEL means part, and subonderdeel subpart (every program in the Netherlands has a unique number</li>
<li>OPLEIDINGSCODE.ACTUEEL    code of the program</li>
<li>OPLEIDINGSNAAM.ACTUEEL    Name of the program (can change of course&hellip;)</li>
<li>OPLEIDINGSVORM    type of education, voltijd means fulltime, deeltijd means part time and duaal means dual, or a mix of working and studying</li>
<li>OPLEIDINGSFASE.ACTUEEL might be recognizable; bachelor, master or bachelor propedeuse (first year of bachelor)</li>
<li>YEAR      Yeah, I translated that one already</li>
<li>GENDER    is actually also a dutch word meaning the same thing</li>
<li>FREQUENCY how many students in this particalar group</li>
</ul>

<p>Now that we know the structure of the dataset we can look at parts of it.</p>

<h2 id="slicing-and-dicing-your-set-while-exploring">Slicing and dicing your set while exploring</h2>

<p>The most important lesson of today is:</p>

<blockquote>
<p>don&rsquo;t save intermediate results / datasets / images</p>
</blockquote>

<p>In SPSS if you want to look at a subset of your data you would either create a selection group or save some results to a different file. While we can do that in R, it&rsquo;s better to create a pipeline of data and change some of the steps. IT saves memory (mostly not important) but even better it keeps your dataset intact and prevents a filelist of over 200 files with uninspiring and meaningless names such as: <code>dataset1, dataset2AFTERSAVING, dataset456</code> etc. This will keep your work, your workspace and your code <strong>clean</strong><sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup>.</p>

<p>We will first look at some details in the dataset. Follow along if you like but even better would be if you try to vary some steps. Instead of  <code>YEAR ==2016</code> take <code>2011</code> or only take master students. Learn by making mistakes and by following up on interesting side stories.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># First filter on 2015, full time and bachelor.</span>
duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>YEAR <span class="o">==</span> <span class="m">2015</span> <span class="o">&amp;</span> OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> View</code></pre></div>
<p>This will display a subsample of your data. But for every unique program there are two rows. One for males (MAN) and one for females (VROUW).
You might not care for the seperate groups and want to combine them.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>YEAR <span class="o">==</span> <span class="m">2015</span> <span class="o">&amp;</span> 
                                OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        group_by<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">%&gt;%</span> summarise<span class="p">(</span>combinedMF <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>FREQUENCY<span class="p">))</span> <span class="o">%&gt;%</span>
        View</code></pre></div>
<p>This might seem like a lot of typing, but you can just modify the last part of the commands by adding the group_by and summarize commands.</p>

<p>An other thing you might have noticed, is that the previous data frame result is now gone and replaced by this result. That is fine, it was temporary anyways.</p>

<p>An other question could be if the numbers per program changed over time?</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>YEAR <span class="o">==</span> <span class="m">2014</span> <span class="o">&amp;</span> 
                                OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        group_by<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">%&gt;%</span> summarise<span class="p">(</span>combinedMF <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>FREQUENCY<span class="p">))</span> <span class="o">%&gt;%</span>
        View</code></pre></div>
<p>However there is just to much information to compare. Let&rsquo;s see if we can visualize these numbers.
Now this might look a bit odd because we will combine a chain of commands with the pipe (<code>%&gt;%</code>) operator and then we add layers of the plot with the plus sign (<code>+</code>)<sup class="footnote-ref" id="fnref:4"><a rel="footnote" href="#fn:4">4</a></sup>.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span> OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        group_by<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL<span class="p">,</span> YEAR<span class="p">)</span> <span class="o">%&gt;%</span> summarise<span class="p">(</span>combinedMF <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>FREQUENCY<span class="p">))</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> combinedMF<span class="p">))</span> <span class="o">+</span> geom_line<span class="p">(</span>aes<span class="p">(</span>group <span class="o">=</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">))</span></code></pre></div>
<p>I agree that this endresult is less then useful. But look at the code it&rsquo;s really interesting.
This is a great time to take a little excursion</p>

<h3 id="a-small-excursion-into-chaining">a small excursion into chaining</h3>

<p><em>Think back to part 2 of this course about chaining and dplyr</em>
We started with the same chain that created a the summarized data frame. That data frame can be imported by ggplot. Remember that the pipe operator puts the end result as first argument in the command after it. <em>dplyr = layered grammar of data manipulation</em> and <em>ggplot2 = layered grammar of graphics</em> . So we have two sets of grammar here.</p>

<p>The code above is just a simplified, much easier to read, notation of the following code:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">TEMP1 <span class="o">&lt;-</span>   summarise<span class="p">(</span>group_by<span class="p">(</span>filter<span class="p">(</span>duo2015_tidy<span class="p">,</span>  OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">),</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">,</span> YEAR<span class="p">)</span> <span class="p">,</span>combinedMF <span class="o">=</span> <span class="kp">sum</span><span class="p">(</span>FREQUENCY<span class="p">))</span>
<span class="c1"># do you still see where the arguments of every command are?</span>
ggplot<span class="p">(</span>data <span class="o">=</span> TEMP1<span class="p">,</span> aes<span class="p">(</span>YEAR<span class="p">,</span> combinedMF<span class="p">))</span> <span class="o">+</span> geom_line<span class="p">(</span>aes<span class="p">(</span>group <span class="o">=</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">))</span></code></pre></div>
<p>As you can see it&rsquo;s hard to read what happened, or when things break, what arguments belong to which function. further more for every plot call you need to create a temporary dataset. One you will probably forget to remove afterwards.</p>

<p>The pipe operator works with every command that starts with a data argument and there are ways to make it work with other commands. It really makes your life easier.</p>

<p>End of excursion, why don&rsquo;t we make some useful plots.</p>

<h2 id="making-plots-that-look-better">Making plots that look better</h2>

<p>There is a lot of information in this dataset. We will need to be more specific in our questions.
How many programs are there actually?</p>

<p>There are 666 unique program names.</p>

<p>What code would you use to find this out? <sup class="footnote-ref" id="fnref:5"><a rel="footnote" href="#fn:5">5</a></sup></p>

<p>Since every bachelor and masters program has a unique name and since bachelors generally give access to multiple masters, there are many many program names. But how many programs are there in the bachelor propedeuse phase?</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span>
                                OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        distinct<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> </code></pre></div>
<p>The end result is a data frame with 141 cases/ rows. Look at the data frame.</p>

<p>Is this a combination of males and females? Or are these really all the programs?<sup class="footnote-ref" id="fnref:6"><a rel="footnote" href="#fn:6">6</a></sup></p>

<p>So there are 141 programs and many universities. Let&rsquo;s first focus on one program in different universities. Two very popular programs in the Netherlands are Psychology<sup class="footnote-ref" id="fnref:7"><a rel="footnote" href="#fn:7">7</a></sup> and Law.
What happens here:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="o">|</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Rechtsgeleerdheid&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span> 
		facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span></code></pre></div>
<ul>
<li>Take dataset</li>
<li>only rows with  fulltime AND first year bachelor</li>
<li>only rows with B psychology OR B law</li>
<li>set up ggplot with year at the x axis, frequency at y axis and group by GENDER *</li>
<li>make a line plot, colour by GENDER, and</li>
<li>facet (make subplots) by municipal and program</li>
</ul>

<p><code>*</code> The setting up part <code>ggplot()</code> doesn&rsquo;t draw anything yet.</p>

<p>Look at the plot. (I have recreated it here using <code>ggsave(&quot;plot-psylawcities.png&quot;)</code>)</p>

<p><img src="{{ site.github.url}} /images/plot-psylawcities.png" alt="first plot of Psychology and Law in different cities by gender over time" /></p>

<p>This is just a first plot, it&rsquo;s far from pretty. It has no title, the years at the borders of psychology and law overlap, the name of the municipal/ city is not readable, and the colors of the gender are counter intuitive. If I had used these colors, blue for males and red for females would be more in line with western culture<sup class="footnote-ref" id="fnref:8"><a rel="footnote" href="#fn:8">8</a></sup>.</p>

<p>Another problem is that the Amsterdam numbers for Law are much lower then for Psychology, they don&rsquo;t display so well on this scale. A separate plot for Psychology and Law would be better.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_colour_manual<span class="p">(</span>values<span class="o">=</span><span class="kt">c</span><span class="p">(</span> <span class="s">&#34;lightblue&#34;</span><span class="p">,</span> <span class="s">&#34;pink&#34;</span><span class="p">))</span> </code></pre></div>
<p>Let&rsquo;s address both color (going stereotype blue and pink) and program.
After my first plot, I found the lines a bit thin, so I set the size. I also used a manual color scale.</p>

<p><img src="/img/plot-psypinkblue.png" alt="plot with different colors only psychology" /></p>

<p>One of the odd things about rstudio is that if you click on the zoom button the plot looks good, but if you use ggsave it takes the uglier version in the side viewer. I guess I could change the settings in  the ggsave command<sup class="footnote-ref" id="fnref:9"><a rel="footnote" href="#fn:9">9</a></sup>.</p>

<h2 id="advanced-ggplot">Advanced ggplot</h2>

<p>The colors in the plot are not so bright. Which is actually a good thing for printing. But in this plot it can make it hard to read.</p>

<p>So let&rsquo;s use some other custom colors.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_colour_manual<span class="p">(</span>values<span class="o">=</span><span class="kt">c</span><span class="p">(</span> <span class="s">&#34;#3399ff&#34;</span><span class="p">,</span> <span class="s">&#34;#ff00ff&#34;</span><span class="p">))</span></code></pre></div>
<p>The colors are a number, how does that work?
Colors in R, or in all sorts of programs really, can be specified with their name: &ldquo;red, magenta&rdquo;, &ldquo;cyan&rdquo;, &ldquo;black&rdquo; etc. Or with their html code &ldquo;#000fff&rdquo; pick it with this <a href="http://www.w3schools.com/colors/colors_picker.asp">site</a>.</p>

<p>Take for instance the very ugly color &ldquo;Aqua&rdquo;, it has the name aqua, the html code #00ffff, rgb(0,255,255) and hsl(180,100%, 50%). Using a site such as the one above can help you in picking colours. to use in your plots. Try to plot the plot above with aqua or #00ffff as one of the values.</p>

<p>An other way to change the colors is by using a color package.
One great package is the <a href="http://www.r-bloggers.com/r-using-rcolorbrewer-to-colour-your-figures-in-r/">color brewer package</a>. Install the package and try <code>RColorBrewer::display.brewer.all(n=8, exact.n=FALSE)</code> to see the different colors.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span></code></pre></div>
<p>This looks somewhat better.
More information about colors and creating your own colors can be found at:
<a href="http://www.cookbook-r.com/Graphs/Colors_%28ggplot2%29/">http://www.cookbook-r.com/Graphs/Colors_%28ggplot2%29/</a></p>

<p>In the previous lesson we used different themes to customize the plots.
We can change features of the plot like the title, axis labels, axis details and many more aspects.</p>

<p>To add a title to a plot use the ggtitle command.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
		ggtitle<span class="p">(</span><span class="s">&#34;Psychology students in several cities over five years&#34;</span><span class="p">)</span></code></pre></div>
<p>So this works, but with the title the axis labels for years and frequency are redundant.
To remove parts of a plot we need to modify the theme settings. A theme is used for all aspects of the plot. where the axis are, what the labels are and so forth. To modify these parts of the plot you need the <code>theme()</code> command. Inside the theme command you give the arguments <code>axis.title.x= element_blank()</code> to remove the x axis or <code>legend.position= &quot;bottom&quot;</code> to put the legend at the bottom of the plot.</p>

<p>You don&rsquo;t need to remember them all. Use the cookbook for r or search for what you want to change online.</p>

<p>for example the following code:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
        ggtitle<span class="p">(</span><span class="s">&#34;Psychology students in several cities over five years&#34;</span><span class="p">)</span> <span class="o">+</span>
        theme<span class="p">(</span>axis.title.x <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># changing multiple theme settings</span>
              axis.title.y <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># on a temporary basis, only for this plot</span>
              legend.position <span class="o">=</span> <span class="s">&#34;bottom&#34;</span><span class="p">,</span>
              strip.text.y<span class="o">=</span>element_text<span class="p">(</span>angle <span class="o">=</span> <span class="m">0</span><span class="p">,</span> vjust <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="c1"># make readable</span>
        <span class="p">)</span></code></pre></div>
<p>Produces the following plot (with <code>ggsave(&quot;psychologystudentscities.png&quot;, scale = 1.5)</code>:</p>

<p><img src="/img/psychologystudentscities.png" alt="" /></p>

<p>If you find yourself repeating the same theme changes in multiple plots, you are violating the DRY principle (Do not repeat yourself). ggplot changes are just lists in R, so you can save all the changes to a list and apply that list to your plots. for example:</p>

<p>This is your plot</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
        ggtitle<span class="p">(</span><span class="s">&#34;Psychology students in several cities over five years&#34;</span><span class="p">)</span> <span class="o">+</span>
        theme_minimal<span class="p">()</span> </code></pre></div>
<p>The first part is identical as before, but I&rsquo;m a big fan of the minimal theme. It removes all sorts of chart junk.  However, you don&rsquo;t like the way the cities are placed. You want it horizontal.
And you don&rsquo;t like the labels on the axes.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
        ggtitle<span class="p">(</span><span class="s">&#34;Psychology students in several cities over five years&#34;</span><span class="p">)</span> <span class="o">+</span>
        theme_minimal<span class="p">()</span> <span class="o">+</span>
        theme<span class="p">(</span>axis.title.x <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># changing multiple theme settings</span>
              axis.title.y <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># on a temporary basis, only for this plot</span>
              legend.position <span class="o">=</span> <span class="s">&#34;bottom&#34;</span><span class="p">,</span>
              strip.text.y<span class="o">=</span>element_text<span class="p">(</span>angle <span class="o">=</span> <span class="m">0</span><span class="p">,</span> vjust <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="c1"># make readable</span>
        <span class="p">)</span></code></pre></div>
<p>This is nice, but you want to recreate the same style for many programs and like any person you hate to copy paste everything. It is time for your own theme.</p>

<p>A ggtheme has every option that you could set defined. So it is possible to create that from scratch, I do not recommend it. The best option is to use a predefined theme and overlay your changes, like you already did above, you first called the theme_minimal() layer and than changed some theme elements.</p>

<p>In practice:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="c1"># This is the theme, it is simply the minimal theme with the </span>
<span class="c1"># modifications added. </span>
studytheme <span class="o">&lt;-</span> theme_minimal<span class="p">()</span> <span class="o">+</span> 
        theme<span class="p">(</span>axis.title.x <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># changing multiple theme settings</span>
              axis.title.y <span class="o">=</span> element_blank<span class="p">(),</span>  <span class="c1"># on a temporary basis, only for this plot</span>
              legend.position <span class="o">=</span> <span class="s">&#34;bottom&#34;</span><span class="p">,</span>
              strip.text.y<span class="o">=</span>element_text<span class="p">(</span>angle <span class="o">=</span> <span class="m">0</span><span class="p">,</span> vjust <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="c1"># make readable</span>
        <span class="p">)</span>
duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Psychologie&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
        ggtitle<span class="p">(</span><span class="s">&#34;Psychology students in several cities over five years&#34;</span><span class="p">)</span> <span class="o">+</span>
        studytheme</code></pre></div>
<p>And now with the Law program.</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">duo2015_tidy <span class="o">%&gt;%</span> filter<span class="p">(</span>OPLEIDINGSVORM <span class="o">==</span> <span class="s">&#34;voltijd onderwijs&#34;</span> <span class="o">&amp;</span> OPLEIDINGSFASE.ACTUEEL <span class="o">==</span> <span class="s">&#34;propedeuse bachelor&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
        filter<span class="p">(</span>OPLEIDINGSNAAM.ACTUEEL <span class="o">==</span> <span class="s">&#34;B Rechtsgeleerdheid&#34;</span> <span class="p">)</span> <span class="o">%&gt;%</span>
        ggplot<span class="p">(</span>aes<span class="p">(</span>YEAR<span class="p">,</span> FREQUENCY<span class="p">,</span> group <span class="o">=</span> GENDER<span class="p">))</span> <span class="o">+</span>
        geom_line<span class="p">(</span>aes<span class="p">(</span>colour <span class="o">=</span> GENDER<span class="p">),</span> size <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> facet_grid<span class="p">(</span> GEMEENTENAAM <span class="o">~</span> OPLEIDINGSNAAM.ACTUEEL<span class="p">)</span> <span class="o">+</span>
        scale_color_brewer<span class="p">(</span> palette <span class="o">=</span> <span class="s">&#34;Accent&#34;</span><span class="p">)</span><span class="o">+</span>
        ggtitle<span class="p">(</span><span class="s">&#34;Law students in several cities over five years&#34;</span><span class="p">)</span> <span class="o">+</span>
        studytheme</code></pre></div>
<figure class="half">
    <img src="/img/lawstudents-clean.png" alt="image">
    <img src="/img/psystudents-clean.png" alt="image">
    <figcaption>law and psychology students plots</figcaption>
</figure>

<h1 id="summary-and-wrapping-it-up">Summary and wrapping it up</h1>

<p>In the previous lessons you learned how to make basic plots, how to select, filter and combine the dplyr verbs. This lesson you combined these skills. Furthermore you can now customize your plots, create a style/theme and apply that theme to your plots. Making it very consistent.</p>

<p>This was the final introduction to R from SPSS. From now on, you are a R user. You know the basic commands, you can find what you are looking for online or in the help function,  and you are able to generate advanced plots.</p>

<h2 id="further-reading">Further Reading</h2>

<p><sup class="footnote-ref" id="fnref:http-www-r-bloggers-com-the-easiest-way-to-learn-ggplot2"><a rel="footnote" href="#fn:http-www-r-bloggers-com-the-easiest-way-to-learn-ggplot2">0</a></sup></p>

<ul>
<li><a href="http://www.cookbook-r.com/Graphs/">http://www.cookbook-r.com/Graphs/</a></li>
<li>more information about themes <a href="http://docs.ggplot2.org/dev/vignettes/themes.html">http://docs.ggplot2.org/dev/vignettes/themes.html</a></li>
</ul>

<h3 id="use-examples-ggplot2">Use examples ggplot2</h3>

<ul>
<li>examples of graphics. <a href="http://r4stats.com/examples/graphics-ggplot2/">http://r4stats.com/examples/graphics-ggplot2/</a></li>
<li>Color palettes in R. <http://vis.supstat.com/2013/04/plotting-symbols-and-color-palettes/ ></li>
</ul>

<h2 id="notes">NOTES</h2>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Tidying was done in a different blog post: <a href="https://rmhogervorst.github.io/cleancode/blog/2016/02/24/creating-tidy-data.html">https://rmhogervorst.github.io/cleancode/blog/2016/02/24/creating-tidy-data.html</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">R projects keep you code and workspace setting contained. So you can work with wildly different settings without resetting them between sessions.
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
<li id="fn:3">I mean, I had to refer to the name of this blog at least once. But I think it&rsquo;s really important. I always lose track of all the subfiles, so this is much better. and faster.
 <a class="footnote-return" href="#fnref:3"><sup>[return]</sup></a></li>
<li id="fn:4">It is odd, and hadley wickham, the creator of ggplot and dplyr (which imported the pipe operator) , agrees. But this is the way it is and changing it will break the code of millions of users&hellip;
 <a class="footnote-return" href="#fnref:4"><sup>[return]</sup></a></li>
<li id="fn:5">There are multiple ways to do this but I would use this <code>length(unique(duo2015_tidy$OPLEIDINGSNAAM.ACTUEEL))</code>
 <a class="footnote-return" href="#fnref:5"><sup>[return]</sup></a></li>
<li id="fn:6">No these are the programs in total, because of the <code>distinct()</code> command. That is the dplyr way of selecting unique cases.
 <a class="footnote-return" href="#fnref:6"><sup>[return]</sup></a></li>
<li id="fn:7">Psychology is arguably a study often chosen for lack of ideas: &ldquo; I didn&rsquo;t really know what to choose so I chose something social&hellip;&rdquo;. I&rsquo;m not sure how many students have this attitude.
 <a class="footnote-return" href="#fnref:7"><sup>[return]</sup></a></li>
<li id="fn:8">Or at least in the Netherlands babyblue is a common color for males. Red not so much specific for females, but pink would be.<br />
 <a class="footnote-return" href="#fnref:8"><sup>[return]</sup></a></li>
<li id="fn:9">I actually found <code>ggsave(&quot;nameofplot.png&quot;,scale = 1.5)</code> to work nicely.
 <a class="footnote-return" href="#fnref:9"><sup>[return]</sup></a></li>
</ol>
</div>


        
          <div class="blog-tags">
            
              <a href="https://rmhogervorst.nl/cleancode/tags/beginner/">beginner</a>&nbsp;
            
              <a href="https://rmhogervorst.nl/cleancode/tags/dplyr/">dplyr</a>&nbsp;
            
              <a href="https://rmhogervorst.nl/cleancode/tags/ggplot2/">ggplot2</a>&nbsp;
            
              <a href="https://rmhogervorst.nl/cleancode/tags/spps-to-r/">spps-to-r</a>&nbsp;
            
              <a href="https://rmhogervorst.nl/cleancode/tags/tutorial/">tutorial</a>&nbsp;
            
          </div>
        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://rmhogervorst.nl/cleancode/blog/2016/03/07/content/post/2016-03-07-create-package-for-dataset/" data-toggle="tooltip" data-placement="top" title="Creating a package for your data set">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://rmhogervorst.nl/cleancode/blog/2016/04/10/content/post/2016-04-10-rproject-start/" data-toggle="tooltip" data-placement="top" title="Introduction to R projects">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:hogervorst.rm@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://keybase.io/rmhogervorst" title="Find me on keybase">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-key fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/RMHogervorst" title="find me on GitHub (main stuff)">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://gitlab.com/rmhogervorst" title="I have some stale stuff on GitLab">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://bitbucket.org/RMHogervorst" title="I probably have something on Bitbucket">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-bitbucket fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/RMHoge" title="Yes! I am active on Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/rmhogervorst" title="My LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/5573955/roel-hogervorst" title="There is some stuff on StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://rmhogervorst.nl/cleancode/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="rmhogervorst.nl">Roel M. Hogervorst</a>
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="https://rmhogervorst.nl/cleancode">Clean Code (and R-fun)</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.35</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
<br> See anything wrong? Click to add them to <a href="https://github.com/RMHogervorst/cleancode/issues" >the issue tracker</a> <br>
            




  



<a href='https://github.com/RMHogervorst/cleancode/tree/master/content/post/2016-04-04--from-spss-to-r-part4.md'>or edit this page on github.</a>



        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://rmhogervorst.nl/cleancode/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://rmhogervorst.nl/cleancode/js/load-photoswipe.js"></script>






  </body>
</html>

